pkgname=vernemq
pkgver=2.0.1
pkgrel=0
pkgdesc="A high-performance, distributed MQTT message broker."
url="https://github.com/bmappi/mqtt"
arch="x86_64"
license="Apache-2.0"
depends="bash openssl snappy"
makedepends="erlang build-base coreutils bsd-compat-headers openssl-dev snappy-dev curl"
source=""
builddir="/home/builder/vernemq"

build() {
    return 0 # Already built in Dockerfile
}

package() {
    install -Dm755 /home/builder/apkbuild/vmq/usr/lib/vmq \$pkgdir/usr/lib/vmq
    install -Dm644 /home/builder/apkbuild/vmq/etc/vmq/vm.args \$pkgdir/etc/vmq/vm.args
    install -Dm644 /home/builder/apkbuild/vmq/etc/vmq/vernemq.conf \$pkgdir/etc/vmq/vernemq.conf
    install -Dm644 /home/builder/apkbuild/vmq/lib/systemd/system/vmq.service \$pkgdir/usr/lib/systemd/system/vmq.service
    install -d \$pkgdir/var/log/vmq
    install -d \$pkgdir/var/run/vmq
    install -d \$pkgdir/var/lib/vmq/configs
}

check() {
    return 0
}